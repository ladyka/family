<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <link rel="stylesheet" type="text/css" href="../static/styles.css"/>
    <meta charset="UTF-8">
    <!--<title th:text="${person.name} + ' ' +${person.surname}+ '' + ${person.fathername}"></title>-->
    <title>Person</title>
</head>
<body>
<hr>
<span th:text="${person.surname}"></span>
<span th:text="${person.name}"></span>
<span th:text="${person.fathername}"></span>
<span th:text="${person.birthday}"></span>
<span th:text="${person.deadDay}"></span>

<form action="/person" method="post">
    <input type="hidden" name="id" th:value="${person.id}">
    <input type="text" name="surname" th:value="${person.surname}">
    <input type="text" name="name" th:value="${person.name}">
    <input type="text" name="fathername" th:value="${person.fathername}">
    <input type="datetime-local" name="birthday" th:value="${person.birthday}">
    <input type="datetime-local" name="deadDay" th:value="${person.deadDay}">

    <br>
    <p>Select gender:</p>
    <input type="radio" name="gender" value="true" th:checked="${person.gender}"> Male<br>
    <input type="radio" name="gender" value="false" th:checked="${!person.gender}"> Female<br>

    <button type="submit">EDIT</button>
</form>
<hr>

<a th:href="'/person/'+${person.getId()}+'/photos'">Photos</a>

<form action="/relation" method="post">
    <input type="hidden" name="personId" th:value="${person.id}">
    <select name="relationId">
        <option th:each="relationPerson : ${persons}"
                th:value="${relationPerson.id}"
                th:text="${relationPerson.id}+ ' - ' + ${relationPerson.surname + ' ' + relationPerson.name + ' '  + relationPerson.fathername}">
        </option>
    </select>

    <div>
        <label for="relationType">Relation type:</label><br>
        <input type="radio" name="relationType" value="1" id="relationType">Marriage<br>
        <input type="radio" name="relationType" value="0" checked>Parent_Child<br>
    </div>
    <button>Add</button>
</form>
<hr>

<h2>Husband</h2>
<table class="table">
    <thead>
    <tr>
        <th> Surname</th>
        <th> Name</th>
        <th> Fathername</th>
        <th> Birthday</th>
        <th> Deadday</th>
        <th> Edit</th>
    </tr>
    </thead>
    <tbody>
    <tr th:each="husband : ${husbands}">
        <td><span th:text="${husband.getSurname()}">Surname </span></td>
        <td><span th:text="${husband.getName()}">Name </span></td>
        <td><span th:text="${husband.getFathername()}">Fathername </span></td>
        <td><span th:text="${husband.getBirthday()}">Birthday </span></td>
        <td><span th:text="${husband.getDeadDay()}">Deadday </span></td>
        <td><a th:href="${'/person/' + husband.getId()}">Edit parent</a></td>
    </tr>
    </tbody>
</table>

<h2>Wife</h2>
<table class="table">
    <thead>
    <tr>
        <th> Surname</th>
        <th> Name</th>
        <th> Fathername</th>
        <th> Birthday</th>
        <th> Deadday</th>
        <th> Edit</th>
    </tr>
    </thead>
    <tbody>
    <tr th:each="wife: ${wives}">
        <td><span th:text="${wife.getSurname()}">Surname </span></td>
        <td><span th:text="${wife.getName()}">Name </span></td>
        <td><span th:text="${wife.getFathername()}">Fathername </span></td>
        <td><span th:text="${wife.getBirthday()}">Birthday </span></td>
        <td><span th:text="${wife.getDeadDay()}">Deadday </span></td>
        <td><a th:href="${'/person/' + wife.getId()}">Edit parent</a></td>
    </tr>
    </tbody>
</table>


<h2>Parents:</h2>
<table class="table">
    <thead>
    <tr>
        <th> Surname</th>
        <th> Name</th>
        <th> Fathername</th>
        <th> Birthday</th>
        <th> Deadday</th>
        <th> Edit</th>
    </tr>
    </thead>
    <tbody>
    <tr th:each="parent : ${parents}">
        <td><span th:text="${parent.getSurname()}">Surname </span></td>
        <td><span th:text="${parent.getName()}">Name </span></td>
        <td><span th:text="${parent.getFathername()}">Fathername </span></td>
        <td><span th:text="${parent.getBirthday()}">Birthday </span></td>
        <td><span th:text="${parent.getDeadDay()}">Deadday </span></td>
        <td><a th:href="${'/person/' + parent.getId()}">Edit parent</a></td>
    </tr>
    </tbody>
</table>
<h2>Children:</h2>
<table class="table">
    <thead>
    <tr>
        <th> Surname</th>
        <th> Name</th>
        <th> Fathername</th>
        <th> Birthday</th>
        <th> Deadday</th>
        <th> Edit</th>
    </tr>
    </thead>
    <tbody>
    <tr th:each="child : ${children}">
        <td><span th:text="${child.getSurname()}">Surname </span></td>
        <td><span th:text="${child.getName()}">Name </span></td>
        <td><span th:text="${child.getFathername()}">Fathername </span></td>
        <td><span th:text="${child.getBirthday()}">Birthday </span></td>
        <td><span th:text="${child.getDeadDay()}">Deadday </span></td>
        <td><a th:href="${'/person/' + child.getId()}">Edit child</a></td>
    </tr>
    </tbody>
</table>
<div th:each="photo : ${photos}">
    <span th:text="${photo.photoId}">Id </span>
    <img th:alt="${person.name}+' photos'" th:src="'/photo/'+${photo.getPhotoId()}" width="300px"/>
    <span th:text="${photo.getDescription()}">Description </span>
</div>

<h2>Добавить родственника</h2>
<form action="/person/new" method="post">
    <input type="hidden" name="personRelationId" th:value="${person.id}">
    <div>
        <label for="newRelationType">Relation type:</label><br>
        <input type="radio" name="relationType" value="1" id="newRelationType">Брак<br>
        <input type="radio" name="relationType" value="0" checked>Родитель/Ребенок<br>
    </div>

    <div>
        <label for="surname">Фамилия</label>
        <input name="surname" id="surname">
    </div>
    <div>
        <label for="name">Имя</label>
        <input name="name" id="name">
    </div>
    <div>
        <label for="fathername">Отчество</label>
        <input name="fathername" id="fathername">
    </div>
    <div>
        <label for="birthday">День рождения</label>
        <input name="birthday" id="birthday" type="datetime-local">
    </div>
    <div>
        <label for="deadday">День смерти</label>
        <input name="deadday" id="deadday" type="datetime-local">
    </div>
    <br>
    <div>
        <label for="gender">Пол:</label><br>
        <input type="radio" name="gender" value="true" id="gender">Мужский<br>
        <input type="radio" name="gender" value="false">Женский<br>
    </div>
    <button type="submit">Добавить человека</button>
</form>
<br><br>

<div style="text-align: center;">
    <a href="/">Main page</a>
</div>

</body>
</html>